JEu serpent

var canvas = document.getElementById('zone');
var ctx = canvas.getContext('2d');
var depX=depY=0;

window.onload=function() {
 
 var intervalID = setInterval(jeu,10);  // rafraichissement toutes les 10millisecondes

  document.addEventListener("keydown",keyboard);
}



function jeu(){

// code à venir pour le final mais en attendant, déplacement curseur jaune

ctx.fillStyle="#f1c40f";

var largeur=hauteur=20;

ctx.fillRect(x, y, largeur, hauteur);

// départ serpent au milieu du canvas
var x= Math.trunc(canvas.width/2);
var y= Math.trunc(canvas.height/2);


x+=depX;  // déplacement vertical
y+=depY;  // déplacement vertical

// dessin du serpent (une case)
ctx.clearRect(0, 0, canvas.width, canvas.height);  // pour faire en sorte de n'avoir que 1 point qui se déplace
 
 

}


function keyboard(evt){
 switch(evt.keyCode) {
 case 37:
 // touche gauche
 if(derMouv==39 || derMouv==68){break;}  // permettra de ne pas faire demi-tour
 depX=-1;
 depY=0;
 derMouv=evt.keyCode;
 break;
 
 case 65:
 // touche gauche (a)
 if(derMouv==39 || derMouv==68){break;}  // permettra de ne pas faire demi-tour
 depX=-1;
 depY=0;
 derMouv=evt.keyCode;
 break;
 
 case 38:
 // touche haut
 if(derMouv==40 || derMouv==83){break;}  // permettra de ne pas faire demi-tour
 depX=0;
 depY=-1;
 derMouv=evt.keyCode;
 break;
 
 case 87:
 // touche haut (w)
 if(derMouv==40 || derMouv==83){break;}  // permettra de ne pas faire demi-tour
 depX=0;
 depY=-1;
 derMouv=evt.keyCode;
 break;
 
 case 39:
 // touche droite
 if(derMouv==37 ||derMouv==65){break;}  // permettra de ne pas faire demi-tour
 depX=1;
 depY=0;
 derMouv=evt.keyCode;
 break;
 
 case 68:
 // touche droite (d)
 if(derMouv==37 ||derMouv==65){break;}  // permettra de ne pas faire demi-tour
 depX=1;
 depY=0;
 derMouv=evt.keyCode;
 break;
 
 case 40:
 // touche bas
 if(derMouv==38 || derMouv==87){break;}  // permettra de ne pas faire demi-tour
 depX=0;
 depY=1;
 derMouv=evt.keyCode;
 break;
 
 case 83:
 // touche bas (s)
 if(derMouv==38 || derMouv==87){break;}  // permettra de ne pas faire demi-tour
 depX=0;
 depY=1;
 derMouv=evt.keyCode;
 break;
 
 case 32:
 // touche espace pour pause ??
 if(derMouvStop != 32){
 depX=0;
 depY=0;
 derMouvStop = derMouv ;
 break;
 }
 
 // Gestion du redémarrage serpent dans la direction où il  allait
 if(derMouvStop==37 )  
 depX=-1;
 depY=0;
 derMouvStop=evt.keyCode;
 break;
 }
 if(derMouvStop==38 )  
 depX=0;
 depY=-1;
 derMouv=evt.keyCode;
 break;
 }
 if(derMouvStop==39 )  
 depX=1;
 depY=0;
 derMouv=evt.keyCode;
 break;
 }
 if(derMouvStop==40 )  
 depX=0;
 depY=1;
 derMouv=evt.keyCode;
 break;
 }
 
}